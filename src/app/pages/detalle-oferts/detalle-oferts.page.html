<ion-header>
  <ion-toolbar color="primary">
    <ion-title>Detalles de la Oferta</ion-title>
    <ion-buttons slot="start">
      <ion-back-button defaultHref="/"></ion-back-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content>
  <div class="offer-details-container">
    <div class="details-grid">
      <!-- Información principal de la oferta -->
      <div class="offer-info">
        <ion-card>
          <ion-card-header>
            <ion-card-title>
              <ion-icon name="airplane" *ngIf="offerDetails?.vehicle?.vehicle_type === 'avion'"></ion-icon>
              <ion-icon name="bus" *ngIf="offerDetails?.vehicle?.vehicle_type === 'bus'"></ion-icon>
              Detalles de la Oferta
            </ion-card-title>
          </ion-card-header>

          <ion-card-content>
            <div class="details-section">
              <h2><ion-icon name="location"></ion-icon> Origen y Destino</h2>
              <p><strong>Origen:</strong> {{ offerDetails?.origin }}</p>
              <p><strong>Destino:</strong> {{ offerDetails?.destination }}</p>
            </div>

            <div class="details-section">
              <h2><ion-icon name="calendar"></ion-icon> Fechas y Horarios</h2>
              <p><strong>Fecha de salida:</strong> {{ offerDetails?.departure_date }}</p>
              <p><strong>Hora de salida:</strong> {{ offerDetails?.departure_time }}</p>
              <p><strong>Fecha de llegada:</strong> {{ offerDetails?.arrival_date }}</p>
              <p><strong>Hora de llegada:</strong> {{ offerDetails?.arrival_time }}</p>
            </div>
          </ion-card-content>
        </ion-card>
      </div>

      <!-- Información del vehículo -->
      <div class="vehicle-info">
        <ion-card>
          <ion-card-header>
            <ion-card-title>
              <ion-icon name="car"></ion-icon> Vehículo Asociado
            </ion-card-title>
          </ion-card-header>

          <ion-card-content>
            <div class="details-section">
              <p><strong>Tipo:</strong> {{ offerDetails?.vehicle?.vehicle_type }}</p>
              <p><strong>Modelo:</strong> {{ offerDetails?.vehicle?.vehicle_model }}</p>
              <p><strong>Registro:</strong> {{ offerDetails?.vehicle?.vehicle_registration }}</p>
              <p><strong>Estado:</strong> {{ offerDetails?.vehicle?.vehicle_status }}</p>
              <p><strong>Amenidades:</strong> {{ offerDetails?.vehicle?.amenities || 'No disponible' }}</p>
              <p><strong>Asientos ocupados:</strong> {{ offerDetails?.vehicle?.occupied_seats }}</p>
              <p><strong>Asientos totales:</strong> {{ offerDetails?.vehicle?.total_seats }}</p>
            </div>
          </ion-card-content>
        </ion-card>
      </div>

      <!-- Información de precios -->
      <div class="price-info">
        <ion-card>
          <ion-card-header>
            <ion-card-title>
              <ion-icon name="pricetag"></ion-icon> Precios
            </ion-card-title>
          </ion-card-header>

          <ion-card-content>
            <div class="details-section">
              <p><strong>Precio actual:</strong> ${{ offerDetails?.price }}</p>
              <p><strong>Precio anterior:</strong> ${{ offerDetails?.previous_price }}</p>
            </div>
          </ion-card-content>
        </ion-card>
      </div>
    </div>

    <!-- Botones de acción -->
    <div class="action-buttons">
      <ion-button expand="full" color="success" (click)="buyOffer()">
        <ion-icon name="cart" slot="start"></ion-icon> Comprar
      </ion-button>
      <ion-button expand="full" color="medium" routerLink="/">
        <ion-icon name="arrow-back" slot="start"></ion-icon> Regresar
      </ion-button>
    </div>
  </div>
</ion-content>
